# –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç - AI CSV Analysis Agent

## –ó–∞ 5 –º–∏–Ω—É—Ç –¥–æ –ø–µ—Ä–≤–æ–≥–æ –∞–Ω–∞–ª–∏–∑–∞

### –®–∞–≥ 1: –£—Å—Ç–∞–Ω–æ–≤–∫–∞

```bash
# –ö–ª–æ–Ω–∏—Ä—É–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
git clone <–≤–∞—à-—Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π>
cd Claude_code

# –°–æ–∑–¥–∞–π—Ç–µ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ
python -m venv venv
source venv/bin/activate  # Windows: venv\Scripts\activate

# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
pip install -r requirements.txt
```

### –®–∞–≥ 2: API –∫–ª—é—á

1. –ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–π—Ç–µ—Å—å –Ω–∞ [OpenRouter.ai](https://openrouter.ai/)
2. –ü–æ–ª—É—á–∏—Ç–µ API –∫–ª—é—á –Ω–∞ [OpenRouter Keys](https://openrouter.ai/keys)
3. –°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `.env`:

```bash
echo "OPENROUTER_API_KEY=–≤–∞—à_–∫–ª—é—á_–∑–¥–µ—Å—å" > .env
```

### –®–∞–≥ 3: –ü–µ—Ä–≤—ã–π –∞–Ω–∞–ª–∏–∑

```bash
# –ü–æ–º–µ—Å—Ç–∏—Ç–µ –≤–∞—à CSV —Ñ–∞–π–ª –≤ –ø–∞–ø–∫—É (–∏–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ example_sales.csv)
cp /–ø—É—Ç—å/–∫/–≤–∞—à–µ–º—É/—Ñ–∞–π–ª—É.csv .

# –ó–∞–ø—É—Å—Ç–∏—Ç–µ –∞–≥–µ–Ω—Ç–∞
python csv_agent.py
```

–ì–æ—Ç–æ–≤–æ! –¢–µ–ø–µ—Ä—å –º–æ–∂–µ—Ç–µ –∑–∞–¥–∞–≤–∞—Ç—å –≤–æ–ø—Ä–æ—Å—ã –æ –≤–∞—à–∏—Ö –¥–∞–Ω–Ω—ã—Ö.

---

## –ü—Ä–∏–º–µ—Ä—ã –≤–æ–ø—Ä–æ—Å–æ–≤

### –ù–∞—á–∞–ª—å–Ω—ã–µ –≤–æ–ø—Ä–æ—Å—ã
```
schema                           # –ü–æ–∫–∞–∑–∞—Ç—å —Å—Ç—Ä—É–∫—Ç—É—Ä—É –¥–∞–Ω–Ω—ã—Ö
–ü–æ–∫–∞–∂–∏ –ø–µ—Ä–≤—ã–µ 10 —Å—Ç—Ä–æ–∫          # –ü—Ä–æ—Å–º–æ—Ç—Ä –¥–∞–Ω–Ω—ã—Ö
–ö–∞–∫–∏–µ –µ—Å—Ç—å –∫–æ–ª–æ–Ω–∫–∏?             # –°–ø–∏—Å–æ–∫ –∫–æ–ª–æ–Ω–æ–∫
```

### –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
```
–ü–æ–∫–∞–∂–∏ –æ–ø–∏—Å–∞—Ç–µ–ª—å–Ω—É—é —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É
–ö–∞–∫–∞—è —Å—Ä–µ–¥–Ω—è—è —Ü–µ–Ω–∞?
–°–∫–æ–ª—å–∫–æ —É–Ω–∏–∫–∞–ª—å–Ω—ã—Ö –ø—Ä–æ–¥—É–∫—Ç–æ–≤?
–ï—Å—Ç—å –ª–∏ –ø—Ä–æ–ø—É—â–µ–Ω–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è?
```

### –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è
```
–ü–æ—Å—Ç—Ä–æ–π –≥–∏—Å—Ç–æ–≥—Ä–∞–º–º—É —Ü–µ–Ω
–°–æ–∑–¥–∞–π scatter plot —Ü–µ–Ω—ã –æ—Ç –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞
–ü–æ—Å—Ç—Ä–æ–π bar chart —Ç–æ–ø-10 –ø—Ä–æ–¥—É–∫—Ç–æ–≤
–ü–æ–∫–∞–∂–∏ —Ç–µ–ø–ª–æ–≤—É—é –∫–∞—Ä—Ç—É –∫–æ—Ä—Ä–µ–ª—è—Ü–∏–π
```

### –ê–Ω–∞–ª–∏–∑ –¥–∞–Ω–Ω—ã—Ö
```
–ù–∞–π–¥–∏ –≤—ã–±—Ä–æ—Å—ã –≤ —Ü–µ–Ω–∞—Ö
–ì—Ä—É–ø–ø–∏—Ä—É–π –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º –∏ –ø–æ—Å—á–∏—Ç–∞–π —Å—Ä–µ–¥–Ω–µ–µ
–ü–æ–∫–∞–∂–∏ —Ç—Ä–µ–Ω–¥ –ø—Ä–æ–¥–∞–∂ –ø–æ –≤—Ä–µ–º–µ–Ω–∏
–ö–∞–∫–∏–µ –ø—Ä–æ–¥—É–∫—Ç—ã –ø—Ä–æ–¥–∞—é—Ç—Å—è –ª—É—á—à–µ –≤—Å–µ–≥–æ?
```

---

## Google Colab

### –í–∞—Ä–∏–∞–Ω—Ç 1: –ë—ã—Å—Ç—Ä—ã–π –∑–∞–ø—É—Å–∫

```python
# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
!pip install openai pandas numpy matplotlib seaborn python-dotenv

# –ó–∞–≥—Ä—É–∑–∫–∞ –∞–≥–µ–Ω—Ç–∞
!wget https://raw.githubusercontent.com/–≤–∞—à-—Ä–µ–ø–æ/colab_csv_agent.py

# –ò–º–ø–æ—Ä—Ç –∏ –∑–∞–ø—É—Å–∫
from colab_csv_agent import upload_and_analyze

# –ó–∞–≥—Ä—É–∑–∏—Ç–µ CSV –∏ –Ω–∞—á–Ω–∏—Ç–µ –∞–Ω–∞–ª–∏–∑
agent = upload_and_analyze(api_key='–≤–∞—à_–∫–ª—é—á_openrouter')
```

### –í–∞—Ä–∏–∞–Ω—Ç 2: –ü–æ—à–∞–≥–æ–≤—ã–π

```python
# 1. –£—Å—Ç–∞–Ω–æ–≤–∫–∞
!pip install openai pandas numpy matplotlib seaborn

# 2. –ó–∞–≥—Ä—É–∑–∫–∞ –∞–≥–µ–Ω—Ç–∞
!wget https://raw.githubusercontent.com/–≤–∞—à-—Ä–µ–ø–æ/colab_csv_agent.py

# 3. –ò–º–ø–æ—Ä—Ç
from colab_csv_agent import ColabCSVAgent
from google.colab import files

# 4. –°–æ–∑–¥–∞–Ω–∏–µ –∞–≥–µ–Ω—Ç–∞
agent = ColabCSVAgent(api_key='–≤–∞—à_–∫–ª—é—á')

# 5. –ó–∞–≥—Ä—É–∑–∫–∞ CSV
uploaded = files.upload()
agent.load_csv_from_upload(uploaded)

# 6. –ü—Ä–æ—Å–º–æ—Ç—Ä —Å—Ç—Ä—É–∫—Ç—É—Ä—ã
agent.show_schema()

# 7. –ê–Ω–∞–ª–∏–∑!
agent.analyze("–ü–æ–∫–∞–∂–∏ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É")
agent.analyze("–ü–æ—Å—Ç—Ä–æ–π –≥—Ä–∞—Ñ–∏–∫–∏ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–π")
```

---

## –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –≤ –∫–æ–¥–µ

### –ü—Ä–æ—Å—Ç–æ–π –ø—Ä–∏–º–µ—Ä

```python
from csv_agent import CSVAnalysisAgent
from pathlib import Path
import os

# –°–æ–∑–¥–∞–π—Ç–µ –∞–≥–µ–Ω—Ç–∞
api_key = os.getenv("OPENROUTER_API_KEY")
agent = CSVAnalysisAgent(api_key)

# –ó–∞–≥—Ä—É–∑–∏—Ç–µ CSV
agent.load_csv(Path("data.csv"))

# –ó–∞–¥–∞–π—Ç–µ –≤–æ–ø—Ä–æ—Å
response = agent.chat("–ö–∞–∫–∞—è —Å—Ä–µ–¥–Ω—è—è —Ü–µ–Ω–∞?")
print(response)
```

### –î–µ—Ç–∞–ª—å–Ω—ã–π –∫–æ–Ω—Ç—Ä–æ–ª—å

```python
from csv_agent import CSVAnalysisAgent
from pathlib import Path
import os

# –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
agent = CSVAnalysisAgent(
    api_key=os.getenv("OPENROUTER_API_KEY"),
    working_dir="."
)

# –ó–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö
df = agent.load_csv(Path("data.csv"))

# –ê–Ω–∞–ª–∏–∑ —Å—Ö–µ–º—ã
schema = agent.analyze_csv_schema(df)
print(f"–ö–æ–ª–æ–Ω–∫–∏: {schema['columns']}")
print(f"–†–∞–∑–º–µ—Ä: {schema['shape']}")

# –í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –∞–Ω–∞–ª–∏–∑–∞ —Å –¥–µ—Ç–∞–ª—å–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π
result = agent.analyze_and_execute(
    "–ù–∞–π–¥–∏ —Ç–æ–ø-5 –ø—Ä–æ–¥—É–∫—Ç–æ–≤ –ø–æ –ø—Ä–æ–¥–∞–∂–∞–º"
)

if result['success']:
    print("–£—Å–ø–µ—Ö!")
    print(f"–ü–æ–ø—ã—Ç–æ–∫: {len(result['code_attempts'])}")
    print(f"–†–µ–∑—É–ª—å—Ç–∞—Ç: {result['final_result']}")
else:
    print(f"–û—à–∏–±–∫–∞: {result['error']}")
```

---

## –ö–æ–º–∞–Ω–¥—ã —á–∞—Ç–∞

–í –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ–º —Ä–µ–∂–∏–º–µ –¥–æ—Å—Ç—É–ø–Ω—ã —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã:

- `exit` / `quit` / `–≤—ã—Ö–æ–¥` - –≤—ã—Ö–æ–¥ –∏–∑ –ø—Ä–æ–≥—Ä–∞–º–º—ã
- `schema` - –ø–æ–∫–∞–∑–∞—Ç—å —Å—Ç—Ä—É–∫—Ç—É—Ä—É –¥–∞–Ω–Ω—ã—Ö
- –õ—é–±–æ–π –¥—Ä—É–≥–æ–π —Ç–µ–∫—Å—Ç - –≤–æ–ø—Ä–æ—Å –∫ –¥–∞–Ω–Ω—ã–º

---

## –°–æ–≤–µ—Ç—ã –ø–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é

### 1. –§–æ—Ä–º—É–ª–∏—Ä—É–π—Ç–µ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ –≤–æ–ø—Ä–æ—Å—ã
```
‚ùå –ü–ª–æ—Ö–æ: "–ø–æ–∫–∞–∂–∏ –¥–∞–Ω–Ω—ã–µ"
‚úÖ –•–æ—Ä–æ—à–æ: "–ø–æ–∫–∞–∂–∏ —Ç–æ–ø-10 –∑–∞–ø–∏—Å–µ–π –ø–æ —Ü–µ–Ω–µ"
```

### 2. –£–∫–∞–∑—ã–≤–∞–π—Ç–µ –∂–µ–ª–∞–µ–º—ã–π —Ñ–æ—Ä–º–∞—Ç –≤—ã–≤–æ–¥–∞
```
‚úÖ "–ø–æ—Å—á–∏—Ç–∞–π —Å—Ä–µ–¥–Ω—é—é —Ü–µ–Ω—É –∏ –≤—ã–≤–µ–¥–∏ –≤ —Ñ–æ—Ä–º–∞—Ç–µ: –°—Ä–µ–¥–Ω—è—è —Ü–µ–Ω–∞: $XXX"
‚úÖ "–ø–æ—Å—Ç—Ä–æ–π bar chart —Å –ø–æ–¥–ø–∏—Å—è–º–∏ –Ω–∞ –æ—Å—è—Ö"
```

### 3. –†–∞–∑–±–∏–≤–∞–π—Ç–µ —Å–ª–æ–∂–Ω—ã–µ –∑–∞–¥–∞—á–∏
```
–í–º–µ—Å—Ç–æ: "—Å–¥–µ–ª–∞–π –ø–æ–ª–Ω—ã–π –∞–Ω–∞–ª–∏–∑ –¥–∞–Ω–Ω—ã—Ö"

–õ—É—á—à–µ:
1. "–ø–æ–∫–∞–∂–∏ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É –ø–æ –≤—Å–µ–º –∫–æ–ª–æ–Ω–∫–∞–º"
2. "–ø–æ—Å—Ç—Ä–æ–π —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –¥–ª—è —á–∏—Å–ª–æ–≤—ã—Ö –∫–æ–ª–æ–Ω–æ–∫"
3. "–Ω–∞–π–¥–∏ –∫–æ—Ä—Ä–µ–ª—è—Ü–∏–∏"
4. "–æ–ø—Ä–µ–¥–µ–ª–∏ –≤—ã–±—Ä–æ—Å—ã"
```

### 4. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∫–æ–Ω—Ç–µ–∫—Å—Ç
```
–ê–≥–µ–Ω—Ç –ø–æ–º–Ω–∏—Ç –ø—Ä–µ–¥—ã–¥—É—â–∏–µ –∑–∞–ø—Ä–æ—Å—ã –≤ —Ä–∞–º–∫–∞—Ö —Å–µ—Å—Å–∏–∏:

"–ü–æ–∫–∞–∂–∏ –ø—Ä–æ–¥—É–∫—Ç—ã —Å —Ü–µ–Ω–æ–π –±–æ–ª—å—à–µ 100"
"–¢–µ–ø–µ—Ä—å –ø–æ—Å—Ç—Ä–æ–π –¥–ª—è –Ω–∏—Ö –≥—Ä–∞—Ñ–∏–∫"  # –∞–≥–µ–Ω—Ç –ø–æ–π–º–µ—Ç –∫–æ–Ω—Ç–µ–∫—Å—Ç
```

---

## Troubleshooting

### –û—à–∏–±–∫–∞: "API key not found"
```bash
# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ñ–∞–π–ª .env
cat .env

# –ò–ª–∏ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –Ω–∞–ø—Ä—è–º—É—é
export OPENROUTER_API_KEY='–≤–∞—à_–∫–ª—é—á'
```

### –û—à–∏–±–∫–∞: "CSV file not found"
```bash
# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –Ω–∞–ª–∏—á–∏–µ —Ñ–∞–π–ª–∞
ls *.csv

# –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ —Ñ–∞–π–ª –≤ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–π –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏
pwd
```

### –ê–≥–µ–Ω—Ç –Ω–µ –º–æ–∂–µ—Ç –≤—ã–ø–æ–ª–Ω–∏—Ç—å –∑–∞–ø—Ä–æ—Å
1. –ü–µ—Ä–µ—Ñ–æ—Ä–º—É–ª–∏—Ä—É–π—Ç–µ –≤–æ–ø—Ä–æ—Å –±–æ–ª–µ–µ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –Ω–∞–∑–≤–∞–Ω–∏—è –∫–æ–ª–æ–Ω–æ–∫: `schema`
3. –†–∞–∑–±–µ–π—Ç–µ –∑–∞–ø—Ä–æ—Å –Ω–∞ –Ω–µ—Å–∫–æ–ª—å–∫–æ –ø—Ä–æ—Å—Ç—ã—Ö

### –°–ª–∏—à–∫–æ–º –¥–æ–ª–≥–æ –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è
1. –£–ø—Ä–æ—Å—Ç–∏—Ç–µ –∑–∞–ø—Ä–æ—Å
2. –£–º–µ–Ω—å—à–∏—Ç–µ —Ä–∞–∑–º–µ—Ä –¥–∞–Ω–Ω—ã—Ö
3. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –±–æ–ª–µ–µ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ —Ñ–∏–ª—å—Ç—Ä—ã

---

## –ß—Ç–æ –¥–∞–ª—å—à–µ?

1. –ò–∑—É—á–∏—Ç–µ [–ø–æ–ª–Ω—É—é –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é](README.md)
2. –ü–æ—Å–º–æ—Ç—Ä–∏—Ç–µ [–ø—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è](example_usage.py)
3. –≠–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–∏—Ä—É–π—Ç–µ —Å –≤–∞—à–∏–º–∏ –¥–∞–Ω–Ω—ã–º–∏!

---

## –ü–æ–ª–µ–∑–Ω—ã–µ —Å—Å—ã–ª–∫–∏

- [OpenRouter](https://openrouter.ai/) - API –¥–ª—è Claude
- [OpenRouter Models](https://openrouter.ai/docs#models) - —Å–ø–∏—Å–æ–∫ –¥–æ—Å—Ç—É–ø–Ω—ã—Ö –º–æ–¥–µ–ª–µ–π
- [OpenRouter Pricing](https://openrouter.ai/docs#pricing) - —Ü–µ–Ω—ã
- [Claude Documentation](https://docs.anthropic.com/) - –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è Claude

---

## –ü–æ–¥–¥–µ—Ä–∂–∫–∞

–ï—Å–ª–∏ –≤–æ–∑–Ω–∏–∫–ª–∏ –ø—Ä–æ–±–ª–µ–º—ã:

1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —ç—Ç–æ—Ç quickstart guide
2. –ü–æ—Å–º–æ—Ç—Ä–∏—Ç–µ [FAQ –≤ README](README.md#faq)
3. –°–æ–∑–¥–∞–π—Ç–µ issue –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏

---

**–ì–æ—Ç–æ–≤–æ! –¢–µ–ø–µ—Ä—å –≤—ã –≥–æ—Ç–æ–≤—ã –∞–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å CSV —Ñ–∞–π–ª—ã —Å –ø–æ–º–æ—â—å—é AI!** üöÄ
